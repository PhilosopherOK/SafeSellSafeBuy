CREATE TABLE Users(
                      id int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
                      first_name varchar(24) NOT NULL,
                      last_name varchar(24) NOT NULL,
                      date_of_birthday date CHECK (date_of_birthday > '01.01.1950') NOT NULL,
                      cardNumber varchar UNIQUE,
                      userLogin varchar(24) NOT NULL,
                      userPassword varchar(24) NOT NULL
);

CREATE TABLE Product(
    id int PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title varchar NOT NULL,
    price int NOT NULL CHECK ( price > 0),
    shortDescription varchar NOT NULL,
    longDescription varchar NOT NULL,
    loginInGame varchar NOT NULL,
    passwordInGame varchar NOT NULL,
    emailInGame varchar NOT NULL,
    secretQuestion varchar NOT NULL,
    secretAnswer varchar NOT NULL,
    seller int REFERENCES Users(id) ON DELETE CASCADE,
    buyer int REFERENCES Users(id) ON DELETE SET NULL
);

drop table product;
drop table users;


INSERT INTO users(first_name, last_name, date_of_birthday, cardNumber, userLogin, userPassword)
VALUES ('Teddy', 'Merphy', '02.03.1998', '4444111122223331','teddy', 'merphy'),
       ('Baddy', 'Gemgin', '04.10.2005', '4444111122223332','baddy', 'gemgin'),
       ('Karla', 'Marks', '12.11.2009', '4444111122223333','karla', 'marks')




